<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>{{ title }}</title>

        <meta property="og:title" content="Pure Labs">
        <meta property="og:description" content="Pure Labs">
        <meta property="og:url" content="http://purelabs.de">
        <meta property="og:image" content="http://purelabs.de/images/logo.jpg">

        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
        <meta name="description" content="Pure Labs" />

        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700,600' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/build.css" type="text/css" media="screen">

        <script src="/js/lib/modernizr.custom.js"></script>
        <script src="/js/lib/jquery.js"></script>
        <script src="/js/lib/jquery.scrollTo.js"></script>
        <script src="/js/lib/waypoints.min.js"></script>
        <script src="/js/lib/jquery.sticky.js"></script>
        <script src="/js/lib/jquery.parallax.js"></script>
    </head>
    <body>
        <header class="header" id="hello">
            <div>
                <div>
                    <img src="/images/logo.svg" alt="Pure Labs Logo">
                    <p>Pushing pixels to shift bits</p>
                </div>
            </div>
        </header>

        <nav class="navigation">
            <ul>
                <li><a href="#hello">Hello</a></li>
                <li><a href="#portfolio">Portfolio</a></li>
                <li><a href="#clients">Clients</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="http://blog.purelabs.de">Blog</a></li>
            </ul>
        </nav>

        <div class="content">
            <section id="portfolio" class="portfolio pure-g-r">
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
                <div class="pure-u-1-3"></div>
            </section>

            {% include map.html %}
        </div>

        <script>
            $(function() {
                var $header = $('.header');
                $header.css({
                    height: $(window).height()
                });

                var $nav = $('.navigation');
                $nav.css({
                    'margin-top': -1 * ($nav.height() / 2)
                });


                $nav.find('a[href^="#"]').click(function (e) {
                    e.preventDefault();
                    var $targetElem = $($(this).attr('href'));
                    $(window).scrollTo($targetElem.position().top - 100, 1000);
                });

                if (window.location.hash) {
                    var $targetElem = $(window.location.hash);
                    $(window).scrollTo($targetElem.position().top - 100, 1000);
                }


                var waypointHandler = function(direction) {
                    return function(dir) {
                        if (dir === direction) {
                            $nav.find('li').removeClass('s-is-selected');
                            var $current = $nav.find('a[href^="#' + this.id + '"]');
                            $current.parent().addClass('s-is-selected');

                            var color = '#00afce';

                            if (this.id === 'hello') {
                                color = '#fff';
                            }

                            $nav.find('a').css({
                                color: color
                            });
                        }
                    };
                };

                $('.content > section, .header')
                    .waypoint({
                        offset: '50%',
                        handler: waypointHandler('down')
                    })
                    .waypoint({
                        offset: function() {
                            var contextHeight = $.waypoints('viewportHeight') / 2;
                            return contextHeight - $(this).outerHeight();
                        },
                        handler: waypointHandler('up')
                    });

                $('#hello').parallax('50%', 0.4);
            });
        </script>
    </body>
</html>
